/**********************************************************
* Name: Marta Wegner
* Assignment #3
* CS 344
* Filename: smallsh
* Date: 8/2/15
***********************************************************/
#include<stdio.h>
#include<stdlib.h>
#include<sys/wait.h>
#include<string.h>

int main() {
   char *line = NULL;
   char *token;
   char *iFileName;
   char *oFileName;
   char * args[513];
   int numArgs = 0;
   int bg = 0;

   //Read in a line
   ssize_t size = 0;
   getline(&line, &size, stdin);

   //Splint the line into args
   token = strtok(line, "\n");

   while(token != NULL) {
	if(strcmp(token, "<") == 0) {
	   //Input file
	   //Get file name
	   token = strtok(NULL, "\n");
	   
	   iFileName = token;
	  
	   //Get next token
	   token = strtok(NULL, "\n");
	}
	else if(strcmp(token, ">") == 0) {
	   //Output file
	   //Get file name
	   token = strtok(NULL, "\n");

	   oFileName = token;

	   //Get next token
	   token = strtok(NULL, "\n");
	}
	else if(strcmp(token, "&") == 0) {
	   //Command run in backgroud
	   bg = 1;

	   //End of line = break
	   break;
	}
	else {
	   //Else this is a arg - store it in the args array
	   args[numArgs] = token;

	   //get next token and increase # of args variable
	   token = strtok(NULL, "\n");
	   numArgs++;
	}

	//End array of args with NULL
	args[numArgs] = NULL;
   }
   
